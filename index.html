<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>IGC Viewer</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="lib/leaflet/leaflet.css" />
    <link rel="stylesheet" href="lib/leaflet-awesome-markers/leaflet.awesome-markers.css" />
    <link rel="stylesheet" href="igcviewer.css" />

    <script src="lib/moment.min.js"></script>
    <script src="lib/moment-timezone-with-data.min.js"></script>
    <script src="lib/jquery-2.1.3.min.js"></script>
    <script src="lib/jquery.flot.min.js"></script>
    <script src="lib/jquery.flot.axislabels.js"></script>
    <script src="lib/jquery.flot.resize.min.js"></script>
    <script src="lib/jquery.flot.crosshair.js"></script>
    <script src="lib/leaflet/leaflet.js"></script>
    <script src="lib/leaflet/Semicircle.js"></script>
    <script src="lib/leaflet-awesome-markers/leaflet.awesome-markers.min.js"></script>
    <script src="parseigc.js"></script>
    <script src="mapcontrol.js"></script>
    <script src="igcviewer.js"></script>
</head>
<body>
    <h1>JavaScript IGC Viewer</h1>

    <p>
        A free browser-based tool for viewing GPS tracks and barograph traces from gliding loggers.
        The files must be in the International Gliding Commission (IGC) format.
    </p>

    <p>
        Example files can be found on the <a href="http://www.bgaladder.co.uk/Enquiry.asp">
            British
            Gliding Association Ladder
        </a>. Click on the &quot;Task&quot; column to open the Flight Details
        window and download the logger file from there.
    </p>

    <p> &copy; 2015 Alistair Malcolm Green and Richard Brisbourne </p>

    <noscript>
        <p>
            <strong>Please enable JavaScript to use this application.</strong>
        </p>
    </noscript>
    <p>
    <b>Warning:</b> Unless the "no airspace" option is selected below, outlines of controlled airspace  will be displayed on the map provided we have data for the area.<br>
    This information may not be accurate,  current or complete and is not valid for navigation or flight planning.   Always consult the official publications for current and correct information. 
    </p>

    <div id="errorMessage">
    </div>

    <h2> Preferences </h2>
    <p>
        <label for="altitudeUnits">Altitude units:</label>
        <select id="altitudeUnits" autocomplete="off">
            <option value="feet">Feet</option>
            <option value="metres">Metres</option>
        </select>
        &nbsp;&nbsp; 
        <label for="airclip">Clip airspace above:</label>
        <select id="airclip" autocomplete="off">
           <option value="0">No Airspace</option>
            <option value="4501">4500</option>
            <option value="6001" selected>6000</option>
            <option value="9001">9000</option>
            <option value="12001">12000</option>
            <option value="19501">19500</option>
        </select>
        feet
    </p>
    <p>
        <label for="timeZoneSelect">Time zone:</label>
        <select id="timeZoneSelect">
        </select>
    </p>
    <hr>
    <p>
        <label for="fileControl">Select a file to view:</label>
        <input id="fileControl" type="file" />
    </p>

    <div id="task">
            <h2> Task </h2>
            <ul>
            </ul>
            <span id="tasklength"></span>
        </div>
    
    <div id="igcFileDisplay">

        <h2> Flight Information </h2>
        <table id="headerInfo">
            <tbody></tbody>
        </table>

        <div id="mapWrapper">
            <div id="map"></div>
            <div id="slider">
            <label for="timeSlider">Time:</label>
            <button id="timeBack">&lt;</button>
            <input type="range" id="timeSlider" step="1" value="0" min="0" max="100"/>
            <button id="timeForward">&gt;</button>
            <p id="timePositionDisplay"></p>
        </div>
        </div>
        <div id="barogram"></div>
    </div>

    <h2> Credits </h2>
     <p id="airspace_info"><b>Airspace sources:</b> <span id="airspace_src"></span></p>
    <p>
        This application was made possible by the following free software projects:
        <ul>
            <li><a href="http://www.openstreetmap.org">OpenStreetMap</a></li>
            <li><a href="https://jquery.com/">jQuery</a></li>
            <li><a href="http://leafletjs.com/">Leaflet.js interactive map library</a></li>
            <li><a href="http://www.flotcharts.org/">Flot Charts</a></li>
            <li><a href="https://github.com/markrcote/flot-axislabels">Flot Axis Labels plugin</a></li>
            <li><a href="http://momentjs.com/timezone">Moment Timezone library</a></li>
            <li>Icons by <a href="https://fortawesome.github.io/Font-Awesome/">Font Awesome</a></li>
        </ul>
    </p>
</body>
</html>
